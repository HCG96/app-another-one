define(["../6e867381f6333fc9c95b78691e5477b1","../services/1d072cba260c30508d01b426e459ceea","../services/02ef515fd305838ee668a6f91a8c05ae","../services/7010a8f5edd216bf92376cce561b22c5"],function(t){t.directive("stopTouchend",function(){return{link:function(t,n){n.bind("touchend",function(t){t.stopPropagation()})}}}),t.directive("volFav",["$timeout","FavouriteFactory","$q",function(t,n,e){return{link:function(o,a){var i;o.favMsg="啊哦，程序出了点小问题，请稍后重试。",n.has(o.volData.id).then(function(t){t&&a.addClass("active")}),a.bind("click",function(){var c=a.hasClass("active");n[c?"del":"add"](o.volData.id).then(function(){return o.favMsg=c?"已取消收藏":"收藏成功！",a.toggleClass("active"),e.when("")},function(){return o.favMsg="你的设备不支持收藏功能，快去下载手机客户端！",e.when("")}).then(function(){t(function(){a.triggerHandler("open"),t.cancel(i),i=t(function(){a.triggerHandler("close")},2e3,!1)},0,!1)})})}}}]),t.controller("VolController",["$scope","$stateParams","FetchVolFactory","NavService","$modal",function(t,n,e,o,a){t.openGoToModal=function(){var t=a.open({templateUrl:"myModalContent.html"});t.result.then(o.go)},t.showMenu=function(){alert("菜单正在开发中 :)")},t.status={loading:!0,showMenu:!1,current:1,is404:!1},t.switchTo=function(n){t.status.current=n,window.scrollTo(0,0)},t.volData={id:n.id},t.next=o.next,t.prev=o.prev,e.getVolData(n.id).then(function(n){t.volData=n},function(){t.status.is404=!0})["finally"](function(){t.status.loading=!1})}])});