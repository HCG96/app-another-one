angular.module("app.services.FavouriteFactory",[["services/1f34578c3607063815b5371df0c99339.js"]]).factory("FavouriteFactory",["$q","FileSystemFactory",function(e,r){var t="favourite.txt",n={save:function(n){var o=e.defer();return"object"==typeof n&&n&&(n=JSON.stringify(n)),r.then(function(e){e.writeFile(t,[n]).then(o.resolve)},o.reject),o.promise},read:function(n){var o=e.defer();return r.then(function(e){e.readFile(t,"json",!0).then(function(e){Array.isArray(e)||(e=[]),n&&e.sort(function(e,r){return e>r?1:-1}),o.resolve(e)})},o.reject),o.promise},clear:function(){var n=e.defer();return r.then(function(e){e.deleteFile(t).then(n.resolve,n.reject)},n.reject),n.promise},add:function(r){var t=e.defer();return"number"!=typeof r&&(r=Number(r)),n.read().then(function(e){e.indexOf(r)<0&&e.push(r),n.save(e).then(t.resolve)},t.reject),t.promise},del:function(r){var t=e.defer();return"number"!=typeof r&&(r=Number(r)),n.read().then(function(e){var o=e.indexOf(r);o>=0&&e.splice(o,1),n.save(e).then(t.resolve)},t.reject),t.promise},has:function(r){var t=e.defer();return"number"!=typeof r&&(r=Number(r)),n.read().then(function(e){t.resolve(0<=e.indexOf(r))},t.reject),t.promise}};return n}]);